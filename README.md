# lambda-machine
This is a VERY simple 32-bit MIPS CPU with 8 basic instructions (`add`, `sub`, `and`, `or`, `lw`, `sw`, `beq` and `j`), implemented in Clash, a language based on Haskell for hardware design.

# Build
```bash
    $ stack build
```

Then you can read the document generated by Haddock:
```bash
    $ stack haddock --open lambda-machine
```

# Generate HDL Model
The easiest way to generate HDL model from Clash is load a **single** file in `clashi`. A composed file is prepared at `./test/lambda-machine.hs`. Run
```bash
    $ clashi
```
and then 
```bash
    Clash.Prelude> :l lambda-machine.hs
    *Machine> :verilog
    *Machine> :systemverilog
    *Machine> :vhdl
```

# Play with Clash
After loading source file in `clashi`, you can also try functions defined in `Machine.Debug`. And an initial system state is defined in `Machine` module.
